const n=(n=>{const u="ControlSidebar",f="lte.controlsidebar",e=`.${f}`,s=n.fn[u],o={COLLAPSED:`collapsed${e}`,EXPANDED:`expanded${e}`},t={CONTROL_SIDEBAR:".control-sidebar",CONTROL_SIDEBAR_CONTENT:".control-sidebar-content",DATA_TOGGLE:'[data-widget="control-sidebar"]',CONTENT:".content-wrapper",HEADER:".main-header",FOOTER:".main-footer"},i={CONTROL_SIDEBAR_ANIMATE:"control-sidebar-animate",CONTROL_SIDEBAR_OPEN:"control-sidebar-open",CONTROL_SIDEBAR_SLIDE:"control-sidebar-slide-open",LAYOUT_FIXED:"layout-fixed",NAVBAR_FIXED:"layout-navbar-fixed",NAVBAR_SM_FIXED:"layout-sm-navbar-fixed",NAVBAR_MD_FIXED:"layout-md-navbar-fixed",NAVBAR_LG_FIXED:"layout-lg-navbar-fixed",NAVBAR_XL_FIXED:"layout-xl-navbar-fixed",FOOTER_FIXED:"layout-footer-fixed",FOOTER_SM_FIXED:"layout-sm-footer-fixed",FOOTER_MD_FIXED:"layout-md-footer-fixed",FOOTER_LG_FIXED:"layout-lg-footer-fixed",FOOTER_XL_FIXED:"layout-xl-footer-fixed"},h={controlsidebarSlide:!0,scrollbarTheme:"os-theme-light",scrollbarAutoHide:"l"};class r{constructor(n,t){this._element=n;this._config=t;this._init()}collapse(){this._config.controlsidebarSlide?(n("html").addClass(i.CONTROL_SIDEBAR_ANIMATE),n("body").removeClass(i.CONTROL_SIDEBAR_SLIDE).delay(300).queue(function(){n(t.CONTROL_SIDEBAR).hide();n("html").removeClass(i.CONTROL_SIDEBAR_ANIMATE);n(this).dequeue()})):n("body").removeClass(i.CONTROL_SIDEBAR_OPEN);const r=n.Event(o.COLLAPSED);n(this._element).trigger(r)}show(){this._config.controlsidebarSlide?(n("html").addClass(i.CONTROL_SIDEBAR_ANIMATE),n(t.CONTROL_SIDEBAR).show().delay(10).queue(function(){n("body").addClass(i.CONTROL_SIDEBAR_SLIDE).delay(300).queue(function(){n("html").removeClass(i.CONTROL_SIDEBAR_ANIMATE);n(this).dequeue()});n(this).dequeue()})):n("body").addClass(i.CONTROL_SIDEBAR_OPEN);const r=n.Event(o.EXPANDED);n(this._element).trigger(r)}toggle(){const t=n("body").hasClass(i.CONTROL_SIDEBAR_OPEN)||n("body").hasClass(i.CONTROL_SIDEBAR_SLIDE);t?this.collapse():this.show()}_init(){this._fixHeight();this._fixScrollHeight();n(window).resize(()=>{this._fixHeight(),this._fixScrollHeight()});n(window).scroll(()=>{(n("body").hasClass(i.CONTROL_SIDEBAR_OPEN)||n("body").hasClass(i.CONTROL_SIDEBAR_SLIDE))&&this._fixScrollHeight()})}_fixScrollHeight(){const r={scroll:n(document).height(),window:n(window).height(),header:n(t.HEADER).outerHeight(),footer:n(t.FOOTER).outerHeight()},u={bottom:Math.abs(r.window+n(window).scrollTop()-r.scroll),top:n(window).scrollTop()};let f=!1,e=!1;n("body").hasClass(i.LAYOUT_FIXED)&&((n("body").hasClass(i.NAVBAR_FIXED)||n("body").hasClass(i.NAVBAR_SM_FIXED)||n("body").hasClass(i.NAVBAR_MD_FIXED)||n("body").hasClass(i.NAVBAR_LG_FIXED)||n("body").hasClass(i.NAVBAR_XL_FIXED))&&n(t.HEADER).css("position")==="fixed"&&(f=!0),(n("body").hasClass(i.FOOTER_FIXED)||n("body").hasClass(i.FOOTER_SM_FIXED)||n("body").hasClass(i.FOOTER_MD_FIXED)||n("body").hasClass(i.FOOTER_LG_FIXED)||n("body").hasClass(i.FOOTER_XL_FIXED))&&n(t.FOOTER).css("position")==="fixed"&&(e=!0),u.top===0&&u.bottom===0?(n(t.CONTROL_SIDEBAR).css("bottom",r.footer),n(t.CONTROL_SIDEBAR).css("top",r.header),n(t.CONTROL_SIDEBAR+", "+t.CONTROL_SIDEBAR+" "+t.CONTROL_SIDEBAR_CONTENT).css("height",r.window-(r.header+r.footer))):u.bottom<=r.footer?e===!1?(n(t.CONTROL_SIDEBAR).css("bottom",r.footer-u.bottom),n(t.CONTROL_SIDEBAR+", "+t.CONTROL_SIDEBAR+" "+t.CONTROL_SIDEBAR_CONTENT).css("height",r.window-(r.footer-u.bottom))):n(t.CONTROL_SIDEBAR).css("bottom",r.footer):u.top<=r.header?f===!1?(n(t.CONTROL_SIDEBAR).css("top",r.header-u.top),n(t.CONTROL_SIDEBAR+", "+t.CONTROL_SIDEBAR+" "+t.CONTROL_SIDEBAR_CONTENT).css("height",r.window-(r.header-u.top))):n(t.CONTROL_SIDEBAR).css("top",r.header):f===!1?(n(t.CONTROL_SIDEBAR).css("top",0),n(t.CONTROL_SIDEBAR+", "+t.CONTROL_SIDEBAR+" "+t.CONTROL_SIDEBAR_CONTENT).css("height",r.window)):n(t.CONTROL_SIDEBAR).css("top",r.header))}_fixHeight(){const r={window:n(window).height(),header:n(t.HEADER).outerHeight(),footer:n(t.FOOTER).outerHeight()};if(n("body").hasClass(i.LAYOUT_FIXED)){let u=r.window-r.header;(n("body").hasClass(i.FOOTER_FIXED)||n("body").hasClass(i.FOOTER_SM_FIXED)||n("body").hasClass(i.FOOTER_MD_FIXED)||n("body").hasClass(i.FOOTER_LG_FIXED)||n("body").hasClass(i.FOOTER_XL_FIXED))&&n(t.FOOTER).css("position")==="fixed"&&(u=r.window-r.header-r.footer);n(t.CONTROL_SIDEBAR+" "+t.CONTROL_SIDEBAR_CONTENT).css("height",u);typeof n.fn.overlayScrollbars!="undefined"&&n(t.CONTROL_SIDEBAR+" "+t.CONTROL_SIDEBAR_CONTENT).overlayScrollbars({className:this._config.scrollbarTheme,sizeAutoCapable:!0,scrollbars:{autoHide:this._config.scrollbarAutoHide,clickScrolling:!0}})}}static _jQueryInterface(t){return this.each(function(){let i=n(this).data(f);const u=n.extend({},h,n(this).data());if(i||(i=new r(this,u),n(this).data(f,i)),i[t]==="undefined")throw new Error(`${t} is not a function`);i[t]()})}}n(document).on("click",t.DATA_TOGGLE,function(t){t.preventDefault();r._jQueryInterface.call(n(this),"toggle")});return n.fn[u]=r._jQueryInterface,n.fn[u].Constructor=r,n.fn[u].noConflict=function(){return n.fn[u]=s,r._jQueryInterface},r})(jQuery);export default n;